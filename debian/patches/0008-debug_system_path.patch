From: Kevin Roy <kiniou@gmail.com>
Date: Sun, 3 Oct 2010 10:56:26 +0200
Subject: [PATCH] debug_system_path

 * add some printf for debug system path retrieval
---
 source/blender/blenlib/intern/path_util.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

diff --git a/source/blender/blenlib/intern/path_util.c b/source/blender/blenlib/intern/path_util.c
index 3452e46..acbac7a 100644
--- a/source/blender/blenlib/intern/path_util.c
+++ b/source/blender/blenlib/intern/path_util.c
@@ -787,6 +787,10 @@ static int test_path(char *targetpath, char *path_base, char *path_sep, char *fo
 	if(path_sep)	BLI_join_dirfile(tmppath, path_base, path_sep);
 	else			BLI_strncpy(tmppath, path_base, sizeof(tmppath));
 	
+#ifdef PATH_DEBUG2
+		printf("\ttest_path : %s , %s , %s\n", targetpath, path_base , path_sep, folder_name);
+#endif
+
 	BLI_make_file_string("/", targetpath, tmppath, folder_name);
 	
 	if (BLI_is_dir(targetpath)) {
@@ -808,6 +812,10 @@ static int test_env_path(char *path, char *envvar)
 {
 	char *env = envvar?getenv(envvar):NULL;
 	if (!env) return 0;
+
+#ifdef PATH_DEBUG2
+		printf("\ttest_env_path : %s , %s , %s\n", path, envvar , env);
+#endif
 	
 	if (BLI_is_dir(env)) {
 		BLI_strncpy(path, env, FILE_MAX);
@@ -816,6 +824,10 @@ static int test_env_path(char *path, char *envvar)
 		path[0] = '\0';
 		return 0;
 	}
+
+#ifdef PATH_DEBUG2
+		printf("\ttest_env_path : %s , %s , %s\n", path, envvar , env);
+#endif
 }
 
 static int get_path_local(char *targetpath, char *folder_name, char *subfolder_name)
-- 
