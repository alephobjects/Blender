From: Kevin Roy <kiniou@gmail.com>
Date: Tue, 28 Sep 2010 15:00:23 +0200
Subject: [PATCH] use_systemwide_libraries

Don't try and use extern/libopenjpeg nor extern/glew
---
 CMakeLists.txt        |    6 ++++++
 extern/CMakeLists.txt |    6 ------
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 72cbba9..503afd8 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -379,6 +379,12 @@ if(UNIX AND NOT APPLE)
 		set(PLATFORM_LINKFLAGS "${PLATFORM_LINKFLAGS} -static-intel")
 	endif()
 
+	# Use system-wide GLEW & OpenJPEG:
+	SET(LLIBS "${LLIBS} -lGLEW")
+	SET(LLIBS "${LLIBS} -lopenjpeg")
+
+	ADD_DEFINITIONS(-DWITH_OPENJPEG)
+
 elseif(WIN32)
 
 	# this file is included anyway when building under Windows with cl.exe
diff --git a/extern/CMakeLists.txt b/extern/CMakeLists.txt
index 44d66d5..d6ca342 100644
--- a/extern/CMakeLists.txt
+++ b/extern/CMakeLists.txt
@@ -35,12 +35,6 @@ if(CMAKE_SYSTEM_NAME MATCHES "Linux")
 	add_subdirectory(binreloc)
 endif()
 
-add_subdirectory(glew)
-
-if(WITH_IMAGE_OPENJPEG)
-	add_subdirectory(libopenjpeg)
-endif()
-
 if(WITH_IMAGE_REDCODE)
 	add_subdirectory(libredcode)
 endif()
-- 
