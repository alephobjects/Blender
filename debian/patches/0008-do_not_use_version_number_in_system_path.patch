From: "Matteo F. Vescovi" <mfv.debian@gmail.com>
Date: Sun, 15 Jul 2012 16:10:09 +0200
Subject: do_not_use_version_number_in_system_path

Global installation expects system patch to be something like
/usr/share/blender/scripts/ without version numbers.
---
 source/blender/blenlib/intern/path_util.c |    4 ++--
 source/creator/CMakeLists.txt             |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/source/blender/blenlib/intern/path_util.c b/source/blender/blenlib/intern/path_util.c
index 4cf617f..b2a584d 100644
--- a/source/blender/blenlib/intern/path_util.c
+++ b/source/blender/blenlib/intern/path_util.c
@@ -90,7 +90,7 @@
 #  else /* new XDG ~/blender/.config/ */
 #    define BLENDER_USER_FORMAT			"%s/blender/%s"
 #  endif // WITH_XDG_USER_DIRS
-#  define BLENDER_SYSTEM_FORMAT			"%s/blender/%s"
+#  define BLENDER_SYSTEM_FORMAT			"%s/blender"
 #endif
 
 /* local */
@@ -1040,7 +1040,7 @@ static int get_path_system(char *targetpath, const char *folder_name, const char
 
 	system_base_path = (const char *)GHOST_getSystemDir();
 	if (system_base_path) {
-		BLI_snprintf(system_path, FILE_MAX, BLENDER_SYSTEM_FORMAT, system_base_path, blender_version_decimal(ver));
+		BLI_snprintf(system_path, FILE_MAX, BLENDER_SYSTEM_FORMAT, system_base_path);
 	}
 	
 	if (!system_path[0])
diff --git a/source/creator/CMakeLists.txt b/source/creator/CMakeLists.txt
index 712f608..3cc5a62 100644
--- a/source/creator/CMakeLists.txt
+++ b/source/creator/CMakeLists.txt
@@ -241,7 +241,7 @@ if(UNIX AND NOT APPLE)
 		if(WITH_PYTHON_MODULE)
 			set(TARGETDIR_VER ${PYTHON_LIBPATH}/python${PYTHON_VERSION}/site-packages/${BLENDER_VERSION})
 		else()
-			set(TARGETDIR_VER ${CMAKE_INSTALL_PREFIX}/share/blender/${BLENDER_VERSION})
+			set(TARGETDIR_VER ${CMAKE_INSTALL_PREFIX}/share/blender)
 		endif()
 	endif()
 
